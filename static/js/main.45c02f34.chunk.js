(this.webpackJsonpsite=this.webpackJsonpsite||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(14),a=c.n(n),i=c(28),r=c.n(i),s=(c(35),c(19)),j=c(13),o=c(9),u=(c(36),c(37),c(10)),d=c(29),b=(c(41),c(6));function l(e){var t=e.dataItem;return Object(b.jsxs)("div",{className:"dataItem".concat(t.loading?" loading":t.isInStock?" inStock":" notInStock"),children:[Object(b.jsxs)("div",{className:"leftContent",children:[Object(b.jsxs)("header",{className:"headerContent",children:[Object(b.jsx)("span",{children:t.loading?Object(b.jsx)("img",{alt:"",className:"loadingSpinner",src:"stock-checker-site/loading.svg"}):t.productPrice?t.isInStock?"\u2714\ufe0f":"\u274c":"\u2754"}),Object(b.jsx)("span",{className:"name",children:t.productName})]}),Object(b.jsxs)("div",{className:"smallContent",children:[Object(b.jsx)("span",{className:"timestamp",children:Object(d.a)(new Date(t.date),"es_ES")}),Object(b.jsxs)("span",{className:"site",children:["- @",t.productSite]})]})]}),Object(b.jsxs)("div",{className:"rightContent",children:[Object(b.jsxs)("span",{className:"price",children:[t.productPrice?t.productPrice:t.loading?Object(b.jsx)("img",{alt:"",className:"loadingSpinner",src:"stock-checker-site/loading.svg"}):"\u2754"," EUR"]}),Object(b.jsx)("a",{rel:"noreferrer",target:"_blank",href:t.productUrl,className:"visitButton",children:"\ud83d\udd17 Visit"})]})]},t.key)}var O=c(23);c(43);function h(e){var t=e.productData,c=e.createProduct,a=e.editProduct,i=e.deleteProduct,r=Object(n.useState)(null===t||void 0===t?void 0:t.id),s=Object(o.a)(r,2),j=s[0],u=(s[1],Object(n.useState)(null===t||void 0===t?void 0:t.name)),d=Object(o.a)(u,2),l=d[0],O=d[1],h=Object(n.useState)(null===t||void 0===t?void 0:t.url),f=Object(o.a)(h,2),p=f[0],m=f[1],x=Object(n.useState)(null===t||void 0===t?void 0:t.site),g=Object(o.a)(x,2),v=g[0],k=g[1];return Object(b.jsxs)("article",{className:"productItem",children:[Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Nombre"}),Object(b.jsx)("input",{type:"text",value:l,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"Web"}),Object(b.jsx)("input",{type:"text",value:v,onChange:function(e){return k(e.target.value)}})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("label",{children:"URL"}),Object(b.jsx)("input",{type:"text",value:p,onChange:function(e){return m(e.target.value)}})]})]}),c?Object(b.jsx)("button",{type:"button",onClick:function(){return c({name:l,url:p,site:v}),O(""),m(""),void k("")},children:"Crear"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:function(){return a({id:j,name:l,url:p,site:v})},children:"Guardar"}),Object(b.jsx)("button",{type:"button",onClick:function(){return i(j)},children:"Eliminar"})]})]})}var f=c(12),p=c(25),m=c(24),x=Object(f.e)({apiKey:"AIzaSyD4XxIuiekhE84uh7_IIVX8Fzf3wXYCcDA",authDomain:"price-tracker-1c428.firebaseapp.com",databaseURL:"https://price-tracker-1c428.firebaseio.com",projectId:"price-tracker-1c428",storageBucket:"price-tracker-1c428.appspot.com",messagingSenderId:"371469893400",appId:"1:371469893400:web:661c8956a419487ddc286d",measurementId:"G-GJBMLVW97M"}),g=Object(p.b)(x),v=Object(m.a)(x),k=Object(u.g)(v,"/data"),N=Object(u.g)(v,"/latestStock"),S=Object(u.f)(k,Object(u.a)(50)),I=Object(u.f)(N,Object(u.a)(50));var y=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),r=Object(o.a)(i,2),d=r[0],f=r[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),x=m[0],k=m[1],N=Object(n.useState)(!1),y=Object(o.a)(N,2),C=y[0],P=y[1],F=Object(n.useState)(),L=Object(o.a)(F,2),D=L[0],E=L[1],w=Object(n.useState)(!1),B=Object(o.a)(w,2),R=B[0],U=B[1],V=function(e){Object(u.i)(Object(u.g)(v,"/products/".concat(e.id)),{name:e.name,site:e.site,url:e.url})},X=function(e){Object(u.h)(Object(u.g)(v,"/products/".concat(e)))};return Object(n.useEffect)((function(){Object(u.b)(Object(u.f)(Object(u.g)(v,"/products")),(function(e){var t=Object(s.a)({id:e.key},e.val());k((function(e){return[t].concat(Object(j.a)(e))}))})),Object(u.d)(Object(u.f)(Object(u.g)(v,"/products")),(function(e){k((function(t){return Object(j.a)(t.filter((function(t){return t.id!==e.key})))}))})),Object(u.d)(Object(u.f)(Object(u.g)(v,"/latestStock")),(function(e){f((function(t){return Object(j.a)(t.filter((function(t){return t.id!==e.key})))}))})),P(!0),Object(u.b)(S,(function(e){var t,c=Object(s.a)({id:e.key},e.val());P(!1),t=[c],a((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))}))})),Object(u.b)(I,(function(e){var t,c=Object(s.a)({id:e.key},e.val());t=[c],f((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))}))})),Object(u.c)(I,(function(e){var t,c=Object(s.a)({id:e.key},e.val());t=c,f((function(e){var c=Object(j.a)(e);return c[c.findIndex((function(e){return e.id===t.id}))]=t,c}))})),Object(u.c)(S,(function(e){var t,c=Object(s.a)({id:e.key},e.val());t=c,a((function(e){var c=Object(j.a)(e);return c[c.findIndex((function(e){return e.id===t.id}))]=t,c}))})),Object(O.b)(g,(function(e){e?("7Xhp5BspVFNqxngdLYKk5C9Hzm62"===e.uid&&U(!0),E(!0)):(U(!1),E(!1))}))}),[]),Object(b.jsxs)("div",{className:"app",children:[!0===D?Object(b.jsx)("button",{onClick:function(){return Object(O.d)(g)},type:"button",children:"logout"}):!1===D?Object(b.jsx)("button",{onClick:function(){return function(){var e=new O.a;Object(O.c)(g,e)}()},type:"button",children:"login"}):"Checking your session...",R&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"heading",children:"Productos"}),Object(b.jsx)("h2",{className:"subheading",children:"Crear producto"}),Object(b.jsx)("div",{className:"productList",children:Object(b.jsx)(h,{createProduct:function(e){Object(u.e)(Object(u.g)(v,"/products"),{name:e.name,site:e.site,url:e.url})}})}),Object(b.jsx)("h2",{className:"subheading",children:"Productos actuales"}),Object(b.jsx)("div",{className:"productList",children:x.map((function(e){return Object(b.jsx)(h,{productData:e,editProduct:V,deleteProduct:X},e.id)}))})]}),Object(b.jsx)("h1",{className:"heading",children:"En stock"}),Object(b.jsx)("div",{className:"data",children:d.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInStock:!0})})).map((function(e){return Object(b.jsx)(l,{dataItem:e},e.id)}))}),Object(b.jsx)("h1",{className:"heading",children:"Informaci\xf3n en directo"}),Object(b.jsx)("div",{className:"data",children:C?"Recuperando datos...":c.sort((function(e,t){return e.date>t.date?-1:1})).map((function(e){return Object(b.jsx)(l,{dataItem:e},e.id)}))})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.45c02f34.chunk.js.map